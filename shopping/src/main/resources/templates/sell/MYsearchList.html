<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html">
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FOR EARTH | SEARCH RESULT</title>
  <link rel='stylesheet' href='/css/woocommerce-layout.css' type='text/css' media='all'/>
  <link rel='stylesheet' href='/css/woocommerce-smallscreen.css' type='text/css' media='only screen and (max-width: 768px)'/>
  <link rel='stylesheet' href='/css/woocommerce.css' type='text/css' media='all'/>
  <link rel='stylesheet' href='/css/font-awesome.min.css' type='text/css' media='all'/>
  <link rel='stylesheet' href='/style.css' type='text/css' media='all'/>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Oswald:400,500,700%7CRoboto:400,500,700%7CHerr+Von+Muellerhoff:400,500,700%7CQuattrocento+Sans:400,500,700' type='text/css' media='all'/>
  <link rel='stylesheet' href='/css/easy-responsive-shortcodes.css' type='text/css' media='all'/>
</head>
<body class="archive post-type-archive post-type-archive-product woocommerce woocommerce-page">
<div id="page">
  <div class="container">
    <header id="masthead" class="site-header">
      <div class="site-branding">
        <div class="col-1" style="margin-left: 800px" >
          <ul>
      				<span sec:authorize="hasRole('USER')">
            		<a class="btn btn-outline-secondary" href="/member/info">내정보</a>
        			</span>
            <span sec:authorize="hasRole('ADMIN')">
            		<a class="btn btn-outline-secondary" href="/member/list">회원리스트</a>
          			</span>
            <br/>
            <span sec:authorize="isAuthenticated()"><a class="btn btn-outline-secondary" href="/auth/logout">로그아웃</a></span>
            <span sec:authorize="!isAuthenticated()"><a class="btn btn-outline-secondary" href="/member/login">로그인</a></span>
            <span sec:authorize="!isAuthenticated()"><a class="btn btn-outline-secondary" href="/member/join">회원가입</a></span>
          </ul>
          <ul>
            <span sec:authorize="isAuthenticated()">name: <span sec:authentication="principal.member.username"></span></span><br>
          </ul>
        </div>
        <h3 class="site-title"><a href="/" rel="home">FOR Earth [Recycle]</a></h3>
        <h3 class="site-description">중고 거래 플랫폼</h3>

      </div>
      <nav id="site-navigation" class="main-navigation">
        <button class="menu-toggle">Menu</button>
        <a class="skip-link screen-reader-text" href="#">Skip to content</a>
        <div class="menu-menu-1-container">
          <ul id="menu-menu-1" class="menu">
            <li><a href="/">홈</a></li>
            <li><a href="/sell/list">전체</a></li>
            <li><a th:href="@{/sell/category(category=${'의류'})}">의류</a></li>
            <li><a th:href="@{/sell/category(category=${'생활용품'})}">생활용품</a></li>
            <li><a th:href="@{/sell/category(category=${'애완용품'})}">애완용품</a></li>
            <li><a th:href="@{/sell/category(category=${'전자제품'})}">전자제품</a></li>
            <li><a th:href="@{/sell/category(category=${'기타'})}">기타</a></li>

            <li class="navbar-collapse col-3" style="margin-left: 80px">
              <form action="/sell/search" method="get" class="d-flex" role="search">
                <select class="form-select" name="searchOption">
                  <option value="product">상품명</option>
                  <option value="price">금액</option>
                </select>
                <input class="form-control" type="text" name="keyword" placeholder="search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">search</button>
              </form>
            </li>
          </ul>
        </div>
      </nav>
    </header>
<body>

  <div class="container">

    <div class="row">

      <div class="card" style="width: 18rem;" th:each="sell : ${searchList}">
        <th:block th:if="${sell.photo != null}">
          <img th:src="@{/upload/photo/{name}(name=${sell.photo})}" width="300" class="card-img-top">
        </th:block>
        <div class="card-body">
          <h5 class="card-title" th:text="${sell.product}"></h5>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">상품번호: <a th:text="${sell.sidx}"/></li>
          <li class="list-group-item">상품가격: <a th:text="${sell.price}"/></li>
          <li class="list-group-item">품절여부: <a th:text="${sell.sale ? '품절' : '판매중'}"/></li>
        </ul>
        <div class="card-body">
          <a th:href="@{/sell/read(sidx=${sell.sidx})}" class="card-link">상세보기</a>
        </div>
      </div>


    </div>

  </div>

  <!--    페이징 구간-->

<nav aria-label="Page navigation example" class="container" style="margin-left: 640px; margin-top: 10px;">
  <ul class="pagination">
    <li class="page-item" th:classappend="${i == searchList.pageable.pageNumber + 1} ? 'disabled' : '' ">
      <a class="page-link" th:href="@{/sell/search(page=${searchList.pageable.pageNumber - 1})}">Previous</a>
    </li>
    <li class="page-item" th:classappend="${i == searchList.pageable.pageNumber} ? 'active' : '' " th:each="i : ${#numbers.sequence(startPage, endPage)}">
      <a class="page-link" th:href="@{/sell/search(page=${i},searchOption=${searchOption}, keyword=${keyword})}" th:text="${i + 1}">1</a>
    </li>
    <li class="page-item" th:classappend="${searchList.totalPages == searchList.pageable.pageNumber + 1} ? 'disabled' : '' ">
      <a class="page-link" th:href="@{/sell/search(page=${searchList.pageable.pageNumber + 1})}">Next</a>
    </li>
  </ul>
</nav>

  <div class="container">
    <a href="/sell/list" class="btn btn-outline-warning">전체리스트</a>
  </div>


</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>